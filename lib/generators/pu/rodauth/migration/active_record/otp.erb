# Used by the otp feature
create_table :<%= table_prefix %>_otp_keys, id: false do |t|
  t.<%= primary_key_type(nil) %> :id, primary_key: true
  t.foreign_key :<%= table_prefix.pluralize %>, column: :id
  t.string :key, null: false
  t.integer :num_failures, null: false, default: 0
  t.datetime :last_use, null: false, default: -> { "<%= current_timestamp %>" }
end
